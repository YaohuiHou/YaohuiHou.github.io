(window.webpackJsonp=window.webpackJsonp||[]).push([[335],{564:function(t,a,s){"use strict";s.r(a);var n=s(1),o=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[s("h1",{attrs:{id:"canvas"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#canvas","aria-hidden":"true"}},[t._v("#")]),t._v(" canvas")]),s("p",[t._v("使用 < canvas > 元素不是非常难，但你需要一些基本的 HTML 和 JavaScript 知识。")]),s("p",[s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial",target:"_blank",rel:"noopener noreferrer"}},[t._v("canvas MDN 教程")])]),s("h2",{attrs:{id:"创建-canvas"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建-canvas","aria-hidden":"true"}},[t._v("#")]),t._v(" 创建 canvas")]),s("p",[t._v("canvas 有部分浏览器(IE 等)不支持")]),s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("\x3c!-- 用Javascript操作2D画布 --\x3e")]),t._v("\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("canvas")]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("id")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("myCanvas"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("width")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("800px"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{attrs:{class:"token attr-name"}},[t._v("height")]),s("span",{attrs:{class:"token attr-value"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("500px"),s("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("canvas")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{attrs:{class:"token script language-javascript"}},[t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" myCanvas "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("querySelector")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'#myCanvas'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// 设置上下文，就相当于打开ps之后让你新建画布")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ctx "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" myCanvas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getContext")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'2d'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")]),s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token tag"}},[s("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),s("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),s("h2",{attrs:{id:"绘制图形"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#绘制图形","aria-hidden":"true"}},[t._v("#")]),t._v(" 绘制图形")]),s("p",[t._v("用 Javascript 操作 2D 画布，在画布绘制")]),s("h3",{attrs:{id:"矩形-rect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#矩形-rect","aria-hidden":"true"}},[t._v("#")]),t._v(" 矩形 rect")]),s("p",[t._v("rect(x,y,width,height)")]),s("p",[t._v("绘制一个左上角坐标为（x,y），宽高为 width 以及 height 的矩形。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("rect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("20")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("10")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("30")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("60")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("stroke")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h3",{attrs:{id:"填充矩形-fillrect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#填充矩形-fillrect","aria-hidden":"true"}},[t._v("#")]),t._v(" 填充矩形 fillRect")]),s("p",[t._v("fillRect(x, y, width, height) 绘制一个填充的矩形")]),s("h3",{attrs:{id:"空心矩形-strokerect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#空心矩形-strokerect","aria-hidden":"true"}},[t._v("#")]),t._v(" 空心矩形 strokeRect")]),s("p",[t._v("strokeRect(x, y, width, height) 绘制一个矩形的边框")]),s("h3",{attrs:{id:"清除矩形-clearrect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#清除矩形-clearrect","aria-hidden":"true"}},[t._v("#")]),t._v(" 清除矩形 clearRect")]),s("p",[t._v("clearRect(x, y, width, height) 清除指定矩形区域，让清除部分完全透明。")]),s("h3",{attrs:{id:"绘制路径"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#绘制路径","aria-hidden":"true"}},[t._v("#")]),t._v(" 绘制路径")]),s("p",[t._v("图形的基本元素是路径。\n"),s("br")]),s("p",[t._v("绘制路径的步骤：")]),s("ol",[s("li",[t._v("首先，你需要创建路径起始点。")]),s("li",[t._v("然后你使用画图命令去画出路径。")]),s("li",[t._v("之后你把路径封闭。")]),s("li",[t._v("一旦路径生成，你就能通过描边或填充路径区域来渲染图形。")])]),s("h4",{attrs:{id:"开始这条路线-beginpath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#开始这条路线-beginpath","aria-hidden":"true"}},[t._v("#")]),t._v(" 开始这条路线 beginPath()")]),s("p",[t._v("新建一条路径，生成之后，图形绘制命令被指向到路径上生成路径。beginPath()")]),s("h4",{attrs:{id:"结束这条路线-closepath"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#结束这条路线-closepath","aria-hidden":"true"}},[t._v("#")]),t._v(" 结束这条路线 closePath()")]),s("p",[t._v("闭合路径之后图形绘制命令又重新指向到上下文中。closePath()")]),s("blockquote",[s("p",[t._v("当你调用 fill()函数时，所有没有闭合的形状都会自动闭合，所以你不需要调用 closePath()函数。但是调用 stroke()时不会自动闭合。")])]),s("h4",{attrs:{id:"合并线路-stroke"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合并线路-stroke","aria-hidden":"true"}},[t._v("#")]),t._v(" 合并线路 stroke()")]),s("p",[t._v("通过线条来绘制图形轮廓 stroke()")]),s("h4",{attrs:{id:"填充线路-fill"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#填充线路-fill","aria-hidden":"true"}},[t._v("#")]),t._v(" 填充线路 fill()")]),s("p",[t._v("通过填充路径的内容区域生成实心的图形。fill()")]),s("h3",{attrs:{id:"画笔移动-moveto-x-y"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#画笔移动-moveto-x-y","aria-hidden":"true"}},[t._v("#")]),t._v(" 画笔移动 moveTo(x,y)")]),s("p",[t._v("moveTo(x, y) 代表将笔触移动到某一坐标；")]),s("p",[t._v("当 canvas 初始化或者 beginPath()调用后，你通常会使用 moveTo()函数设置起点。我们也能够使用 moveTo()绘制一些不连续的路径")]),s("h3",{attrs:{id:"绘制直线-lineto-x-y"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#绘制直线-lineto-x-y","aria-hidden":"true"}},[t._v("#")]),t._v(" 绘制直线 lineTo(x,y)")]),s("p",[t._v("lineTo(x, y) 绘制一条从当前位置到指定 x 以及 y 位置的直线。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 绘制实心三角")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("beginPath")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("moveTo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("lineTo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("100")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("lineTo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("100")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fill")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h3",{attrs:{id:"绘制圆弧-arc-arcto"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#绘制圆弧-arc-arcto","aria-hidden":"true"}},[t._v("#")]),t._v(" 绘制圆弧 arc() / arcTo()")]),s("blockquote",[s("p",[t._v("注意：arc()函数中表示角的单位是弧度，不是角度。角度与弧度的 js 表达式：弧度=(Math.PI/180)*角度")])]),s("h4",{attrs:{id:"arc-x-y-radius-startangle-endangle-anticlockwise"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#arc-x-y-radius-startangle-endangle-anticlockwise","aria-hidden":"true"}},[t._v("#")]),t._v(" arc(x, y, radius, startAngle, endAngle, anticlockwise)")]),s("ul",[s("li",[t._v("画一个以（x,y）为圆心")]),s("li",[t._v("radius 为半径")]),s("li",[t._v("从 startAngle 开始到 endAngle 结束 （半径圆弧度所在点）")]),s("li",[t._v("按照 anticlockwise 给定的方向（默认为顺时针）来生成。（true/false）")])]),s("h4",{attrs:{id:"arcto-x1-y1-x2-y2-radius"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#arcto-x1-y1-x2-y2-radius","aria-hidden":"true"}},[t._v("#")]),t._v(" arcTo(x1, y1, x2, y2, radius)")]),s("p",[t._v("根据给定的控制点和半径画一段圆弧，再以直线连接两个控制点。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("beginPath")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("arcTo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("400")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("300")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("30")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("80")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("arcTo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("350")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("100")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("20")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fill")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("br"),s("br"),s("p",[s("a",{attrs:{href:"https://codepen.io/yaohuihou/pen/QWwbvgQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("绘制形状的 demo")])]),s("br"),s("br"),s("h3",{attrs:{id:"贝塞尔曲线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#贝塞尔曲线","aria-hidden":"true"}},[t._v("#")]),t._v(" 贝塞尔曲线")]),s("p",[t._v("二次及三次贝塞尔曲线都十分有用，一般用来绘制复杂有规律的图形。"),s("a",{attrs:{href:"https://cubic-bezier.com",target:"_blank",rel:"noopener noreferrer"}},[t._v("贝塞尔曲线在线绘制")])]),s("p",[t._v("二次贝塞尔曲线有一个开始点（蓝色）、一个结束点（蓝色）以及一个控制点（红色），而三次贝塞尔曲线有两个控制点。")]),s("h4",{attrs:{id:"二次贝塞尔曲线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#二次贝塞尔曲线","aria-hidden":"true"}},[t._v("#")]),t._v(" 二次贝塞尔曲线")]),s("p",[t._v("quadraticCurveTo(cp1x,cp1y,x,y)")]),s("p",[s("a",{attrs:{href:"http://blogs.sitepointstatic.com/examples/tech/canvas-curves/quadratic-curve.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("quadraticCurveTo 在线绘制")])]),s("ul",[s("li",[t._v("cp1x,cp1y 为一个控制点")]),s("li",[t._v("x,y 为结束点。")])]),s("h4",{attrs:{id:"三次贝塞尔曲线"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#三次贝塞尔曲线","aria-hidden":"true"}},[t._v("#")]),t._v(" 三次贝塞尔曲线")]),s("p",[t._v("bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y)")]),s("p",[s("a",{attrs:{href:"http://blogs.sitepointstatic.com/examples/tech/canvas-curves/bezier-curve.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("bezierCurveTo 在线绘制")])]),s("ul",[s("li",[t._v("cp1x,cp1y 为控制点一")]),s("li",[t._v("cp2x,cp2y 为控制点二")]),s("li",[t._v("x,y 为结束点。")])]),s("br"),s("br"),s("p",[s("a",{attrs:{href:"https://codepen.io/yaohuihou/pen/MWYwMZw",target:"_blank",rel:"noopener noreferrer"}},[t._v("贝塞尔曲线的 demo")])]),s("br"),s("br"),s("h2",{attrs:{id:"添加样式"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#添加样式","aria-hidden":"true"}},[t._v("#")]),t._v(" 添加样式")]),s("p",[t._v("color 可以是表示 CSS 颜色值的字符串，渐变对象或者图案对象。")]),s("h3",{attrs:{id:"fillstyle-填充色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fillstyle-填充色","aria-hidden":"true"}},[t._v("#")]),t._v(" fillStyle 填充色")]),s("h3",{attrs:{id:"strokestyle-轮廓色"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#strokestyle-轮廓色","aria-hidden":"true"}},[t._v("#")]),t._v(" strokeStyle 轮廓色")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 这些 fillStyle 的值均为 '橙色'")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'orange'")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'#FFA500'")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'rgb(255,165,0)'")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'rgba(255,165,0,1)'")]),t._v("\n")])]),s("h3",{attrs:{id:"globalalpha-透明度"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#globalalpha-透明度","aria-hidden":"true"}},[t._v("#")]),t._v(" globalAlpha 透明度")]),s("p",[t._v("这个属性影响到 canvas 里所有图形的透明度，有效的值范围是 0.0 （完全透明）到 1.0（完全不透明），默认是 1.0。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 设置透明度值")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalAlpha "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0.2")]),t._v("\n")])]),s("h3",{attrs:{id:"线条宽度-linewidth"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#线条宽度-linewidth","aria-hidden":"true"}},[t._v("#")]),t._v(" 线条宽度 lineWidth")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lineWidth "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("10")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("beginPath")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("moveTo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("10")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("10")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("lineTo")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("10")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("stroke")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h3",{attrs:{id:"线条末端样式-linecap"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#线条末端样式-linecap","aria-hidden":"true"}},[t._v("#")]),t._v(" 线条末端样式 lineCap")]),s("p",[t._v("指定如何绘制每一条线段末端的属性。有 3 个可能的值，分别是：butt, round and square。默认值是 butt。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 默认 线段末端以方形结束")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lineCap "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'butt'")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 线段末端以圆形结束")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lineCap "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'round'")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 线段末端以方形结束，但是增加了一个宽度和线段相同，高度是线段厚度一半的矩形区域。")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lineCap "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'square'")]),t._v("\n")])]),s("h3",{attrs:{id:"线条间结合样式-linejoin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#线条间结合样式-linejoin","aria-hidden":"true"}},[t._v("#")]),t._v(" 线条间结合样式 lineJoin")]),s("p",[t._v("设置 2 个长度不为 0 的相连部分（线段，圆弧，曲线）如何连接在一起的属性（长度为 0 的变形部分，其指定的末端和控制点在同一位置，会被忽略）。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 默认")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lineJoin "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'miter'")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 菱形")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lineJoin "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'bevel'")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 圆角")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lineJoin "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'round'")]),t._v("\n")])]),s("h3",{attrs:{id:"虚线-setlinedash-和-linedashoffset"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#虚线-setlinedash-和-linedashoffset","aria-hidden":"true"}},[t._v("#")]),t._v(" 虚线 setLineDash 和 LineDashOffset")]),s("p",[t._v("用 setLineDash 方法和 lineDashOffset 属性制定虚线样式。")]),s("ul",[s("li",[t._v("setLineDash 方法接受一个数组，用来指定线段与间隙的交替")]),s("li",[t._v("lineDashOffset 属性设置起始偏移量。")])]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("clearRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" canvas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("width"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" canvas"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("height"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("setLineDash")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token number"}},[t._v("4")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("2")]),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("lineDashOffset "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("-")]),t._v("offset\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("strokeRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("10")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("10")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("100")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("100")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h3",{attrs:{id:"渐变-gradients"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#渐变-gradients","aria-hidden":"true"}},[t._v("#")]),t._v(" 渐变 Gradients")]),s("p",[t._v("createLinearGradient 方法接受 4 个参数，表示渐变的起点 (x1,y1) 与终点 (x2,y2)。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("createLinearGradient")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x1"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y1"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x2"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y2"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("p",[t._v("示例：")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" lingrad "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("createLinearGradient")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("150")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlingrad"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addColorStop")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'#00ABEB'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlingrad"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addColorStop")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0.5")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'#f60'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlingrad"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addColorStop")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0.5")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'#26C000'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlingrad"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addColorStop")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("1")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'blue'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" lingrad2 "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("createLinearGradient")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("95")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlingrad2"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addColorStop")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0.5")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'#000'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nlingrad2"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addColorStop")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("1")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'rgba(0,0,0,0.3)'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 添加样式")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" lingrad\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strokeStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" lingrad2\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// 画框")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fillRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("10")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("10")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("130")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("130")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("strokeRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("p",[t._v("createRadialGradient 方法接受 6 个参数，前三个定义一个以 (x1,y1) 为原点，半径为 r1 的圆，后三个参数则定义另一个以 (x2,y2) 为原点，半径为 r2 的圆。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("createRadialGradient")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x1"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y1"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" r1"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x2"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y2"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" r2"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("p",[t._v("示例：")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" radgrad "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("createRadialGradient")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("45")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("45")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("10")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("52")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("30")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nradgrad"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addColorStop")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'#A7D30C'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nradgrad"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addColorStop")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0.9")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'#019F62'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nradgrad"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("addColorStop")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("1")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'rgba(1,159,98,0)'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" radgrad\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fillRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("150")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("150")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h3",{attrs:{id:"图案样式-patterns"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#图案样式-patterns","aria-hidden":"true"}},[t._v("#")]),t._v(" 图案样式 Patterns")]),s("p",[t._v("该方法接受两个参数。Image 可以是一个 Image 对象的引用，或者另一个 canvas 对象。Type 必须是下面的字符串值之一：repeat，repeat-x，repeat-y 和 no-repeat。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("createPattern")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("p",[t._v("示例：创建一个图案，赋值给 fillStyle 属性")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 创建新 image 对象，用作图案")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" img "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Image")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nimg"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'https://mdn.mozillademos.org/files/222/Canvas_createpattern.png'")]),t._v("\nimg"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// 创建图案")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ptrn "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("createPattern")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("img"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'repeat'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" ptrn\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fillRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("150")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("150")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),s("h3",{attrs:{id:"阴影-shadows"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#阴影-shadows","aria-hidden":"true"}},[t._v("#")]),t._v(" 阴影 shadows")]),s("p",[t._v("shadowOffsetX 和 shadowOffsetY 用来设定阴影在 X 和 Y 轴的延伸距离，它们是不受变换矩阵所影响的。负值表示阴影会往上或左延伸，正值则表示会往下或右延伸，它们默认都为 0。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("shadowOffsetX "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" float\n")])]),s("p",[t._v("shadowOffsetX 和 shadowOffsetY 用来设定阴影在 X 和 Y 轴的延伸距离，它们是不受变换矩阵所影响的。负值表示阴影会往上或左延伸，正值则表示会往下或右延伸，它们默认都为 0。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("shadowOffsetY "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" float\n")])]),s("p",[t._v("shadowBlur 用于设定阴影的模糊程度，其数值并不跟像素数量挂钩，也不受变换矩阵的影响，默认为 0。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("shadowBlur "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" float\n")])]),s("p",[t._v("shadowColor 是标准的 CSS 颜色值，用于设定阴影颜色效果，默认是全透明的黑色。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("shadowColor "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" color\n")])]),s("p",[t._v("文字阴影示例：")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shadowOffsetX "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("2")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shadowOffsetY "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("2")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shadowBlur "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("2")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("shadowColor "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'rgba(0, 0, 0, 0.5)'")]),t._v("\n\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("font "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'20px Times New Roman'")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'Black'")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fillText")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'Sample String'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("5")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("30")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h2",{attrs:{id:"绘制文本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#绘制文本","aria-hidden":"true"}},[t._v("#")]),t._v(" 绘制文本")]),s("h3",{attrs:{id:"filltext"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#filltext","aria-hidden":"true"}},[t._v("#")]),t._v(" fillText")]),s("p",[t._v("在指定的(x,y)位置填充指定的文本，绘制的最大宽度是可选的.")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("fillText")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" maxWidth"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h3",{attrs:{id:"stroketext"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#stroketext","aria-hidden":"true"}},[t._v("#")]),t._v(" strokeText")]),s("p",[t._v("在指定的(x,y)位置绘制文本边框，绘制的最大宽度是可选的.")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("strokeText")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" maxWidth"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("p",[t._v("示例：")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("font "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'48px serif'")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("strokeText")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'Hello world'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("10")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h3",{attrs:{id:"font"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#font","aria-hidden":"true"}},[t._v("#")]),t._v(" font")]),s("p",[t._v("绘制文本的样式，这个字符串使用和 CSS 的 font 属性相同的语法。")]),s("h3",{attrs:{id:"textalign"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#textalign","aria-hidden":"true"}},[t._v("#")]),t._v(" textAlign")]),s("p",[t._v("文本对齐，可选值包括：start、end、left、right、center")]),s("h3",{attrs:{id:"textbaseline"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#textbaseline","aria-hidden":"true"}},[t._v("#")]),t._v(" textBaseline")]),s("p",[t._v("基线对齐选项，可选值包括：top、hanging、middle、alphabetic、 ideographic、 bottom")]),s("h3",{attrs:{id:"direction"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#direction","aria-hidden":"true"}},[t._v("#")]),t._v(" direction")]),s("p",[t._v("文本方向。可能的值包括：ltr, rtl, inherit。默认值是 inherit。")]),s("h2",{attrs:{id:"绘制图片"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#绘制图片","aria-hidden":"true"}},[t._v("#")]),t._v(" 绘制图片")]),s("ul",[s("li",[t._v("使用相同页面内的图片")]),s("li",[t._v("使用其他域名下的图片：需要图片的服务器允许跨域访问这个图片")]),s("li",[t._v("通过 base64 嵌入图像")]),s("li",[t._v("使用视频帧")])]),s("h3",{attrs:{id:"drawimage"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#drawimage","aria-hidden":"true"}},[t._v("#")]),t._v(" drawImage")]),s("p",[t._v("其中 image 是 image 或者 canvas 对象，x 和 y 是其在目标 canvas 里的起始坐标。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" img "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Image")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("   "),s("span",{attrs:{class:"token comment"}},[t._v("// 创建img元素")]),t._v("\nimg"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function-variable function"}},[t._v("onload")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// 执行drawImage语句")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("drawImage")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nimg"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'myImage.png'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 设置图片源地址")]),t._v("\n\n")])]),s("h3",{attrs:{id:"缩放-scaling"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缩放-scaling","aria-hidden":"true"}},[t._v("#")]),t._v(" 缩放 scaling")]),s("p",[t._v("drawImage 方法的又一变种是增加两个用于控制图片在 canvas 中的缩放的参数。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// width 和 height，这两个参数用来控制 当向canvas画入时应该缩放的大小")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("drawImage")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" x"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" width"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" height"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h3",{attrs:{id:"切片-slicing"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#切片-slicing","aria-hidden":"true"}},[t._v("#")]),t._v(" 切片 slicing")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("drawImage")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("image"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sx"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sy"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sWidth"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" sHeight"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dx"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dy"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dWidth"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dHeight"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("ul",[s("li",[t._v("image: 使用的图片、画布或视频")]),s("li",[t._v("sx: 可选。开始剪切的 X 坐标位置")]),s("li",[t._v("sy: 可选。开始剪切的 Y 坐标位置")]),s("li",[t._v("swidth: 可选。剪切的图片宽度")]),s("li",[t._v("sheight: 可选。剪切的图片高度")]),s("li",[t._v("dx: 在画布上放置图片的 x 坐标")]),s("li",[t._v("dy: 在画布上放置图片的 y 坐标")]),s("li",[t._v("swidth: 可选。要使用的图像的宽度。（伸展或缩小图像）")]),s("li",[t._v("sheight: 可选。要使用的图像的高度。（伸展或缩小图像）")])]),s("h2",{attrs:{id:"状态、变形"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#状态、变形","aria-hidden":"true"}},[t._v("#")]),t._v(" 状态、变形")]),s("h3",{attrs:{id:"save"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#save","aria-hidden":"true"}},[t._v("#")]),t._v(" save()")]),s("p",[t._v("保存画布的所有状态")]),s("h3",{attrs:{id:"restore"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#restore","aria-hidden":"true"}},[t._v("#")]),t._v(" restore()")]),s("p",[t._v("save 和 restore 方法是用来保存和恢复 canvas 状态的，无参数。canvas 的状态就是当前画面应用的所有样式和变形的一个快照。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fillRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("150")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("150")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 使用默认设置绘制一个矩形")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("save")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 保存默认状态")]),t._v("\n\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'#09F'")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 在原有配置基础上对颜色做改变")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fillRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("15")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("15")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("120")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("120")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 使用新的设置绘制一个矩形")]),t._v("\n\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("save")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 保存当前状态")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'#FFF'")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 再次改变颜色配置")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalAlpha "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0.5")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fillRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("30")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("30")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("90")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("90")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 使用新的配置绘制一个矩形")]),t._v("\n\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("restore")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 重新加载之前的颜色状态")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fillRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("45")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("45")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("60")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("60")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 使用上一次的配置绘制一个矩形")]),t._v("\n\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("restore")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 加载默认颜色配置")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fillRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("60")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("60")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("30")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("30")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// 使用加载的配置绘制一个矩形")]),t._v("\n")])]),s("h3",{attrs:{id:"移动-translating"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#移动-translating","aria-hidden":"true"}},[t._v("#")]),t._v(" 移动 translating")]),s("p",[t._v("用来移动 canvas 和他的原点到一个不同的位置。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("translate")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("p",[t._v("如果不使用 translate 方法，那么所有矩形都将被绘制在相同的位置（0,0）。translate 方法同时让我们可以任意放置这些图案，而不需要在 fillRect() 方法中手工调整坐标值，既好理解也方便使用。")]),s("h3",{attrs:{id:"旋转-rotating"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#旋转-rotating","aria-hidden":"true"}},[t._v("#")]),t._v(" 旋转 rotating")]),s("p",[t._v("用于以原点为中心旋转 canvas。")]),s("p",[t._v("旋转的中心点始终是 canvas 的原点，如果要改变它，我们需要用到 translate 方法。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 旋转的角度(angle)")]),t._v("\n"),s("span",{attrs:{class:"token function"}},[t._v("rotate")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("angle"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h3",{attrs:{id:"缩放-scaling-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#缩放-scaling-2","aria-hidden":"true"}},[t._v("#")]),t._v(" 缩放 scaling")]),s("p",[t._v("scale 方法可以缩放画布的水平和垂直的单位。")]),s("p",[t._v("两个参数都是实数，可以为负数，x 为水平缩放因子，y 为垂直缩放因子，如果比 1 小，会比缩放图形， 如果比 1 大会放大图形。默认值为 1， 为实际大小。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("scale")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("x"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" y"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h3",{attrs:{id:"变形-transforms"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#变形-transforms","aria-hidden":"true"}},[t._v("#")]),t._v(" 变形 transforms")]),s("p",[t._v("允许对变形矩阵直接修改。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("transform")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m11"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" m12"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" m21"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" m22"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dx"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dy"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("ul",[s("li",[t._v("m11：水平方向的缩放")]),s("li",[t._v("m12：水平方向的倾斜偏移")]),s("li",[t._v("m21：竖直方向的倾斜偏移")]),s("li",[t._v("m22：竖直方向的缩放")]),s("li",[t._v("dx：水平方向的移动")]),s("li",[t._v("dy：竖直方向的移动")])]),s("p",[t._v("重置当前变形为单位矩阵：")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("resetTransform")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("p",[t._v("从新设置当前的变形：")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token function"}},[t._v("setTransform")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("m11"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" m12"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" m21"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" m22"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dx"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" dy"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h2",{attrs:{id:"合成与裁剪"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#合成与裁剪","aria-hidden":"true"}},[t._v("#")]),t._v(" 合成与裁剪")]),s("h3",{attrs:{id:"globalcompositeoperation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#globalcompositeoperation","aria-hidden":"true"}},[t._v("#")]),t._v(" globalCompositeOperation")]),s("p",[t._v("覆盖指定区域，清除画布中的某些部分及其他操作。"),s("a",{attrs:{href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API/Tutorial/Compositing",target:"_blank",rel:"noopener noreferrer"}},[t._v("Compositing 详细文档")])]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// type值")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalCompositeOperation "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" type\n")])]),s("ul",[s("li",[t._v("source-over 这是默认设置，并在现有画布上下文之上绘制新图形。")]),s("li",[t._v("source-in 新图形只在新图形和目标画布重叠的地方绘制。其他的都是透明的。")]),s("li",[t._v("source-out 在不与现有画布内容重叠的地方绘制新图形。")]),s("li",[t._v("source-atop 新图形只在与现有画布内容重叠的地方绘制。")]),s("li",[t._v("destination-over 在现有的画布内容后面绘制新的图形。")]),s("li",[t._v("destination-in 现有的画布内容保持在新图形和现有画布内容重叠的位置。其他的都是透明的。")]),s("li",[t._v("destination-atop 现有的画布只保留与新图形重叠的部分，新的图形是在画布内容后面绘制的。")]),s("li",[t._v("lighter 两个重叠图形的颜色是通过颜色值相加来确定的。")]),s("li",[t._v("copy 只显示新图形。")]),s("li",[t._v("xor 图像中，那些重叠和正常绘制之外的其他地方是透明的。")]),s("li",[t._v("multiply 将顶层像素与底层相应像素相乘，结果是一幅更黑暗的图片。")]),s("li",[t._v("screen 像素被倒转，相乘，再倒转，结果是一幅更明亮的图片。")]),s("li",[t._v("overlay multiply 和 screen 的结合，原本暗的地方更暗，原本亮的地方更亮。")]),s("li",[t._v("darken 保留两个图层中最暗的像素。")]),s("li",[t._v("lighten 保留两个图层中最亮的像素。")]),s("li",[t._v("color-dodge 将底层除以顶层的反置。")]),s("li",[t._v("color-burn 将反置的底层除以顶层，然后将结果反过来。")]),s("li",[t._v("hard-light 屏幕相乘（A combination of multiply and screen）类似于叠加，但上下图层互换了。")]),s("li",[t._v("soft-light 用顶层减去底层或者相反来得到一个正值。")]),s("li",[t._v("difference 一个柔和版本的强光（hard-light）。纯黑或纯白不会导致纯黑或纯白。")]),s("li",[t._v("exclusion 和 difference 相似，但对比度较低。")]),s("li",[t._v("hue 保留了底层的亮度（luma）和色度（chroma），同时采用了顶层的色调（hue）。")]),s("li",[t._v("saturation 保留底层的亮度（luma）和色调（hue），同时采用顶层的色度（chroma）。")]),s("li",[t._v("color 保留了底层的亮度（luma），同时采用了顶层的色调(hue)和色度(chroma)。")]),s("li",[t._v("luminosity 保持底层的色调（hue）和色度（chroma），同时采用顶层的亮度（luma）。")])]),s("h3",{attrs:{id:"裁剪-clip"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#裁剪-clip","aria-hidden":"true"}},[t._v("#")]),t._v(" 裁剪 clip")]),s("p",[t._v("将当前正在构建的路径转换为当前的裁剪路径。")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token comment"}},[t._v("// 裁切一个圆形")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("beginPath")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("arc")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("60")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" Math"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token constant"}},[t._v("PI")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("2")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{attrs:{class:"token boolean"}},[t._v("true")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("clip")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),s("h2",{attrs:{id:"基本动画"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基本动画","aria-hidden":"true"}},[t._v("#")]),t._v(" 基本动画")]),s("p",[t._v("可能最大的限制就是图像一旦绘制出来，它就是一直保持那样了。如果需要移动它，我们不得不对所有东西（包括之前的）进行重绘。重绘是相当费时的，而且性能很依赖于电脑的速度。")]),s("p",[t._v("动画基本步骤：")]),s("ol",[s("li",[s("strong",[t._v("清空 canvas")]),s("br"),t._v("\n除非接下来要画的内容会完全充满 canvas （例如背景图），否则你需要清空所有。最简单的做法就是用 clearRect 方法。")]),s("li",[s("strong",[t._v("保存 canvas 状态")]),s("br"),t._v("\n如果你要改变一些会改变 canvas 状态的设置（样式，变形之类的），又要在每画一帧之时都是原始状态的话，你需要先保存一下。")]),s("li",[s("strong",[t._v("绘制动画图形（animated shapes）")]),s("br"),t._v("\n这一步才是重绘动画帧。")]),s("li",[s("strong",[t._v("恢复 canvas 状态")]),s("br"),t._v("\n如果已经保存了 canvas 的状态，可以先恢复它，然后重绘下一帧。")]),s("li",[s("strong",[t._v("操作动画")]),s("br"),t._v("\n可以使用定时器setInterval、setTimeout或者 requestAnimationFrame")])]),s("p",[t._v("太阳系动画示例：")]),s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" sun "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Image")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" moon "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Image")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" earth "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Image")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("init")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  sun"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'https://mdn.mozillademos.org/files/1456/Canvas_sun.png'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  moon"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'https://mdn.mozillademos.org/files/1443/Canvas_moon.png'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  earth"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("src "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'https://mdn.mozillademos.org/files/1429/Canvas_earth.png'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  window"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("requestAnimationFrame")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("draw"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("draw")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" ctx "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getElementById")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'canvas'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getContext")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token string"}},[t._v("'2d'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// 在现有的画布内容后面绘制新的图形")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("globalCompositeOperation "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'destination-over'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// clear canvas")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("clearRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("300")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("300")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" \n\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("fillStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'rgba(0,0,0,0.4)'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("strokeStyle "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v("'rgba(0,153,255,0.4)'")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("save")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// 设定中心点")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("translate")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("150")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("150")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// Earth")]),t._v("\n  "),s("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" time "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Date")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// 地球旋转")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("rotate")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("2")]),s("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("Math"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token constant"}},[t._v("PI")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),s("span",{attrs:{class:"token number"}},[t._v("60")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("time"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getSeconds")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("2")]),s("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("Math"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token constant"}},[t._v("PI")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),s("span",{attrs:{class:"token number"}},[t._v("60000")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("time"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getMilliseconds")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// 设置地球旋转中心")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("translate")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("105")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// 制造地球阴影")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("fillRect")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token number"}},[t._v("12")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("50")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("24")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// Shadow")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("drawImage")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("earth"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token number"}},[t._v("12")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token number"}},[t._v("12")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),s("span",{attrs:{class:"token comment"}},[t._v("// Moon")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("save")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("rotate")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("2")]),s("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("Math"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token constant"}},[t._v("PI")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),s("span",{attrs:{class:"token number"}},[t._v("6")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("time"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getSeconds")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("2")]),s("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("Math"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token constant"}},[t._v("PI")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token operator"}},[t._v("/")]),s("span",{attrs:{class:"token number"}},[t._v("6000")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token operator"}},[t._v("*")]),t._v("time"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("getMilliseconds")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("translate")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("28.5")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("drawImage")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moon"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token number"}},[t._v("3.5")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token operator"}},[t._v("-")]),s("span",{attrs:{class:"token number"}},[t._v("3.5")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("restore")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("restore")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  \n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("beginPath")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("arc")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token number"}},[t._v("150")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("150")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("105")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("Math"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token constant"}},[t._v("PI")]),s("span",{attrs:{class:"token operator"}},[t._v("*")]),s("span",{attrs:{class:"token number"}},[t._v("2")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token boolean"}},[t._v("false")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v(" "),s("span",{attrs:{class:"token comment"}},[t._v("// Earth orbit")]),t._v("\n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("stroke")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n \n  ctx"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("drawImage")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("sun"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("0")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("300")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{attrs:{class:"token number"}},[t._v("300")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  window"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("requestAnimationFrame")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("draw"),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{attrs:{class:"token function"}},[t._v("init")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),s("p",[s("a",{attrs:{href:"https://codepen.io/yaohuihou/pen/JjobaJQ",target:"_blank",rel:"noopener noreferrer"}},[t._v("canvas动画练习demo")])])])}],!1,null,null,null);a.default=o.exports}}]);